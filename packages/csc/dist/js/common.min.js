const $=t=>document.querySelector(t),$All=t=>document.querySelectorAll(t),menu=$("[data-togglemenu]");menu&&menu.addEventListener("click",function(){document.querySelectorAll("[data-menulist]").forEach(t=>{t.classList.toggle("kg-show__list")})});class Accordion{constructor(t){this.el=t,this.summary=t.querySelector("[data-summary]"),this.content=t.querySelector("[data-content-summary]"),this.animation=null,this.isClosing=!1,this.isExpanding=!1,this.summary.addEventListener("click",t=>this.onClick(t))}onClick(t){t.preventDefault(),this.el.style.overflow="hidden",this.isClosing||!this.el.open?(this.open(),this.summary.querySelector("[data-icon-datalist]").style.transform="rotate(0deg)"):(this.isExpanding||this.el.open)&&(this.shrink(),this.summary.querySelector("[data-icon-datalist]").style.transform="rotate(-90deg)")}shrink(){this.isClosing=!0;var t=this.el.offsetHeight+"px",i=this.summary.offsetHeight+"px";this.animation&&this.animation.cancel(),this.animation=this.el.animate({height:[t,i]},{duration:400,easing:"ease-out"}),this.animation.onfinish=()=>this.onAnimationFinish(!1),this.animation.oncancel=()=>this.isClosing=!1}open(){this.el.style.height=this.el.offsetHeight+"px",this.el.open=!0,window.requestAnimationFrame(()=>this.expand())}expand(){this.isExpanding=!0;var t=this.el.offsetHeight+"px",i=this.summary.offsetHeight+this.content.offsetHeight+"px";this.animation&&this.animation.cancel(),this.animation=this.el.animate({height:[t,i]},{duration:400,easing:"ease-out"}),this.animation.onfinish=()=>this.onAnimationFinish(!0),this.animation.oncancel=()=>this.isExpanding=!1}onAnimationFinish(t){this.el.open=t,this.animation=null,this.isClosing=!1,this.isExpanding=!1,this.el.style.height=this.el.style.overflow=""}}const DataList=$All("[data-datalist]"),Container3D=(DataList&&DataList.forEach(t=>{new Accordion(t)}),$All("[data-3d]"));Container3D&&Container3D.forEach(n=>{var{width:t,height:i}=n.getBoundingClientRect();const s=t/2,a=i/2;n.addEventListener("mousemove",t=>{var{offsetX:t,offsetY:i}=t,t=(t-s)/s*10,i=(i-a)/a*10;const e=n?.children[0];console.log(e),e&&(e.style.transition="none",e.style.transform=`rotateX(${t}deg) rotateY(${i}deg)`)}),n.addEventListener("mouseleave",t=>{const i=n?.children[0];i&&(i.style.transition="transform .5s ease-in-out",i.style.transform="rotateX(0deg) rotateY(0deg)")})});